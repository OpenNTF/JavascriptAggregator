<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Thu Feb 06 15:42:49 EST 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>LayerImpl (Jaggr Service 1.1.11-SNAPSHOT API)</title>
<meta name="date" content="2014-02-06">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="LayerImpl (Jaggr Service 1.1.11-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LayerImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/ibm/jaggr/service/impl/layer/LayerCacheImpl.SerializationProxy.html" title="class in com.ibm.jaggr.service.impl.layer"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../com/ibm/jaggr/service/impl/layer/Messages.html" title="class in com.ibm.jaggr.service.impl.layer"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/ibm/jaggr/service/impl/layer/LayerImpl.html" target="_top">Frames</a></li>
<li><a href="LayerImpl.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.ibm.jaggr.service.impl.layer</div>
<h2 title="Class LayerImpl" class="title">Class LayerImpl</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.ibm.jaggr.service.impl.layer.LayerImpl</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../com/ibm/jaggr/service/layer/ILayer.html" title="interface in com.ibm.jaggr.service.layer">ILayer</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">LayerImpl</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../../com/ibm/jaggr/service/layer/ILayer.html" title="interface in com.ibm.jaggr.service.layer">ILayer</a></pre>
<div class="block">A LayerImpl is a collection of LayerBuild objects that are composed using the same
 list of modules, but vary according to build options, compilation level, has filtering,
 etc.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../serialized-form.html#com.ibm.jaggr.service.impl.layer.LayerImpl">Serialized Form</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html?is-external=true" title="class or interface in java.util.regex">Pattern</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/ibm/jaggr/service/impl/layer/LayerImpl.html#GZIPFLAG_KEY_PATTERN">GZIPFLAG_KEY_PATTERN</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../com/ibm/jaggr/service/cachekeygenerator/ICacheKeyGenerator.html" title="interface in com.ibm.jaggr.service.cachekeygenerator">ICacheKeyGenerator</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/ibm/jaggr/service/impl/layer/LayerImpl.html#s_layerCacheKeyGenerators">s_layerCacheKeyGenerators</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.ibm.jaggr.service.layer.ILayer">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;com.ibm.jaggr.service.layer.<a href="../../../../../../com/ibm/jaggr/service/layer/ILayer.html" title="interface in com.ibm.jaggr.service.layer">ILayer</a></h3>
<code><a href="../../../../../../com/ibm/jaggr/service/layer/ILayer.html#BUILDFUTURESQUEUE_REQATTRNAME">BUILDFUTURESQUEUE_REQATTRNAME</a>, <a href="../../../../../../com/ibm/jaggr/service/layer/ILayer.html#DEPENDENT_FEATURES">DEPENDENT_FEATURES</a>, <a href="../../../../../../com/ibm/jaggr/service/layer/ILayer.html#NOCACHE_RESPONSE_REQATTRNAME">NOCACHE_RESPONSE_REQATTRNAME</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../com/ibm/jaggr/service/impl/layer/LayerImpl.html#LayerImpl(java.lang.String, int)">LayerImpl</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;cacheKey,
         int&nbsp;id)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/ibm/jaggr/service/impl/layer/LayerImpl.html#addCacheKeyGenerators(java.util.Map, java.lang.Iterable)">addCacheKeyGenerators</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../../com/ibm/jaggr/service/cachekeygenerator/ICacheKeyGenerator.html" title="interface in com.ibm.jaggr.service.cachekeygenerator">ICacheKeyGenerator</a>&gt;&nbsp;cacheKeyGenerators,
                     <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="../../../../../../com/ibm/jaggr/service/cachekeygenerator/ICacheKeyGenerator.html" title="interface in com.ibm.jaggr.service.cachekeygenerator">ICacheKeyGenerator</a>&gt;&nbsp;gens)</code>
<div class="block">Adds the cache key generators specified in <code>gens</code> to the map of
 classname/key-generator pairs, combining key-generators as needed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/ibm/jaggr/service/impl/layer/LayerImpl.html#cacheEntryEvicted(com.ibm.jaggr.service.impl.layer.CacheEntry)">cacheEntryEvicted</a></strong>(com.ibm.jaggr.service.impl.layer.CacheEntry&nbsp;cacheEntry)</code>
<div class="block">Called by the layer cache manager when a layer build is evicted from the
 eviction map do to size limitations.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/ibm/jaggr/service/impl/layer/LayerImpl.html#generateCacheKey(javax.servlet.http.HttpServletRequest, java.util.Map)">generateCacheKey</a></strong>(javax.servlet.http.HttpServletRequest&nbsp;request,
                <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../../com/ibm/jaggr/service/cachekeygenerator/ICacheKeyGenerator.html" title="interface in com.ibm.jaggr.service.cachekeygenerator">ICacheKeyGenerator</a>&gt;&nbsp;cacheKeyGenerators)</code>
<div class="block">Generates a cache key for the layer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../com/ibm/jaggr/service/cachekeygenerator/ICacheKeyGenerator.html" title="interface in com.ibm.jaggr.service.cachekeygenerator">ICacheKeyGenerator</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/ibm/jaggr/service/impl/layer/LayerImpl.html#getCacheKeyGenerators(java.util.List)">getCacheKeyGenerators</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../com/ibm/jaggr/service/impl/layer/ModuleBuildFuture.html" title="class in com.ibm.jaggr.service.impl.layer">ModuleBuildFuture</a>&gt;&nbsp;futures)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/ibm/jaggr/service/impl/layer/LayerImpl.html#getInputStream(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse)">getInputStream</a></strong>(javax.servlet.http.HttpServletRequest&nbsp;request,
              javax.servlet.http.HttpServletResponse&nbsp;response)</code>
<div class="block">Returns the <a href="http://docs.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io"><code>InputStream</code></a> for the assembled and gzipped layer build
 which was generated using the compilation level, has-conditions and
 options that are specified in the request.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/ibm/jaggr/service/impl/layer/LayerImpl.html#getKey()">getKey</a></strong>()</code>
<div class="block">Returns the cache key that this layer is associated with in the
 layer cache.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/ibm/jaggr/service/impl/layer/LayerImpl.html#getLastModified(javax.servlet.http.HttpServletRequest)">getLastModified</a></strong>(javax.servlet.http.HttpServletRequest&nbsp;request)</code>
<div class="block">Returns the lastModified time of the layer based on the latest last
 modified time of each of the component source files.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/ibm/jaggr/service/impl/layer/LayerImpl.html#getLastModified(com.ibm.jaggr.service.IAggregator, com.ibm.jaggr.service.impl.layer.ModuleList)">getLastModified</a></strong>(<a href="../../../../../../com/ibm/jaggr/service/IAggregator.html" title="interface in com.ibm.jaggr.service">IAggregator</a>&nbsp;aggregator,
               com.ibm.jaggr.service.impl.layer.ModuleList&nbsp;modules)</code>
<div class="block">Returns the newest last modified time of the files in the list</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected com.ibm.jaggr.service.impl.layer.ModuleList</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/ibm/jaggr/service/impl/layer/LayerImpl.html#getModules(javax.servlet.http.HttpServletRequest)">getModules</a></strong>(javax.servlet.http.HttpServletRequest&nbsp;request)</code>
<div class="block">Unfolds a folded module list and returns a list of Source objects</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../../com/ibm/jaggr/service/layer/ILayerCache.html" title="interface in com.ibm.jaggr.service.layer">ILayerCache</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/ibm/jaggr/service/impl/layer/LayerImpl.html#newLayerCache(com.ibm.jaggr.service.IAggregator)">newLayerCache</a></strong>(<a href="../../../../../../com/ibm/jaggr/service/IAggregator.html" title="interface in com.ibm.jaggr.service">IAggregator</a>&nbsp;aggregator)</code>
<div class="block">Static factory method for layer cache objects</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../com/ibm/jaggr/service/module/IModule.html" title="interface in com.ibm.jaggr.service.module">IModule</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/ibm/jaggr/service/impl/layer/LayerImpl.html#newModule(javax.servlet.http.HttpServletRequest, java.lang.String)">newModule</a></strong>(javax.servlet.http.HttpServletRequest&nbsp;request,
         <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;mid)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/ibm/jaggr/service/impl/layer/LayerImpl.html#setReportCacheInfo(boolean)">setReportCacheInfo</a></strong>(boolean&nbsp;isReportCacheInfo)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/ibm/jaggr/service/impl/layer/LayerImpl.html#setResponseHeaders(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, int)">setResponseHeaders</a></strong>(javax.servlet.http.HttpServletRequest&nbsp;request,
                  javax.servlet.http.HttpServletResponse&nbsp;response,
                  int&nbsp;size)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/ibm/jaggr/service/impl/layer/LayerImpl.html#toString()">toString</a></strong>()</code>
<div class="block">Calls the filtered version with a null filter</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="s_layerCacheKeyGenerators">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>s_layerCacheKeyGenerators</h4>
<pre>protected static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../com/ibm/jaggr/service/cachekeygenerator/ICacheKeyGenerator.html" title="interface in com.ibm.jaggr.service.cachekeygenerator">ICacheKeyGenerator</a>&gt; s_layerCacheKeyGenerators</pre>
</li>
</ul>
<a name="GZIPFLAG_KEY_PATTERN">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>GZIPFLAG_KEY_PATTERN</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html?is-external=true" title="class or interface in java.util.regex">Pattern</a> GZIPFLAG_KEY_PATTERN</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="LayerImpl(java.lang.String, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LayerImpl</h4>
<pre>public&nbsp;LayerImpl(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;cacheKey,
         int&nbsp;id)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cacheKey</code> - The folded module list as specified in the request</dd><dd><code>id</code> - unique identifier</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getKey()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKey</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getKey()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../../com/ibm/jaggr/service/layer/ILayer.html#getKey()">ILayer</a></code></strong></div>
<div class="block">Returns the cache key that this layer is associated with in the
 layer cache.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../com/ibm/jaggr/service/layer/ILayer.html#getKey()">getKey</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/ibm/jaggr/service/layer/ILayer.html" title="interface in com.ibm.jaggr.service.layer">ILayer</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>this layer's cache key</dd></dl>
</li>
</ul>
<a name="setReportCacheInfo(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReportCacheInfo</h4>
<pre>public&nbsp;void&nbsp;setReportCacheInfo(boolean&nbsp;isReportCacheInfo)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>isReportCacheInfo</code> - </dd></dl>
</li>
</ul>
<a name="getInputStream(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInputStream</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;getInputStream(javax.servlet.http.HttpServletRequest&nbsp;request,
                         javax.servlet.http.HttpServletResponse&nbsp;response)
                           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../../com/ibm/jaggr/service/layer/ILayer.html#getInputStream(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse)">ILayer</a></code></strong></div>
<div class="block">Returns the <a href="http://docs.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io"><code>InputStream</code></a> for the assembled and gzipped layer build
 which was generated using the compilation level, has-conditions and
 options that are specified in the request.
 <p>
 Has the side effect of setting the appropriate Content-Length,
 Content-Type and Content-Encoding headers in the response.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../com/ibm/jaggr/service/layer/ILayer.html#getInputStream(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse)">getInputStream</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/ibm/jaggr/service/layer/ILayer.html" title="interface in com.ibm.jaggr.service.layer">ILayer</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>request</code> - The request object</dd><dd><code>response</code> - The response object</dd>
<dt><span class="strong">Returns:</span></dt><dd>LayerInputStream The object encapsulating the built layer</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="addCacheKeyGenerators(java.util.Map, java.lang.Iterable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addCacheKeyGenerators</h4>
<pre>protected&nbsp;void&nbsp;addCacheKeyGenerators(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../../com/ibm/jaggr/service/cachekeygenerator/ICacheKeyGenerator.html" title="interface in com.ibm.jaggr.service.cachekeygenerator">ICacheKeyGenerator</a>&gt;&nbsp;cacheKeyGenerators,
                         <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="../../../../../../com/ibm/jaggr/service/cachekeygenerator/ICacheKeyGenerator.html" title="interface in com.ibm.jaggr.service.cachekeygenerator">ICacheKeyGenerator</a>&gt;&nbsp;gens)</pre>
<div class="block">Adds the cache key generators specified in <code>gens</code> to the map of
 classname/key-generator pairs, combining key-generators as needed.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cacheKeyGenerators</code> - Map of classname/key-generator pairs to add to.</dd><dd><code>gens</code> - the cache key generators to add.</dd></dl>
</li>
</ul>
<a name="generateCacheKey(javax.servlet.http.HttpServletRequest, java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateCacheKey</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;generateCacheKey(javax.servlet.http.HttpServletRequest&nbsp;request,
                      <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../../com/ibm/jaggr/service/cachekeygenerator/ICacheKeyGenerator.html" title="interface in com.ibm.jaggr.service.cachekeygenerator">ICacheKeyGenerator</a>&gt;&nbsp;cacheKeyGenerators)
                           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Generates a cache key for the layer.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>request</code> - the request object</dd>
<dt><span class="strong">Returns:</span></dt><dd>the cache key</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getLastModified(javax.servlet.http.HttpServletRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastModified</h4>
<pre>public&nbsp;long&nbsp;getLastModified(javax.servlet.http.HttpServletRequest&nbsp;request)
                     throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../../com/ibm/jaggr/service/layer/ILayer.html#getLastModified(javax.servlet.http.HttpServletRequest)">ILayer</a></code></strong></div>
<div class="block">Returns the lastModified time of the layer based on the latest last
 modified time of each of the component source files. This method assumes
 that it will be called multiple times for the same request and so uses
 the request attributes namespace to cache results and avoid duplicate
 processing.
 <p>
 In production mode, the last modified times of the source files are
 checked when the layer is initially created and the first time the layer
 is accessed after a server restart. In development mode, we determine the
 last modified time of the layer from the last modified times of the
 component source files on every request.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../com/ibm/jaggr/service/layer/ILayer.html#getLastModified(javax.servlet.http.HttpServletRequest)">getLastModified</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/ibm/jaggr/service/layer/ILayer.html" title="interface in com.ibm.jaggr.service.layer">ILayer</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>request</code> - The http request object</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<div class="block">Calls the filtered version with a null filter</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="getModules(javax.servlet.http.HttpServletRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getModules</h4>
<pre>protected&nbsp;com.ibm.jaggr.service.impl.layer.ModuleList&nbsp;getModules(javax.servlet.http.HttpServletRequest&nbsp;request)
                                                          throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Unfolds a folded module list and returns a list of Source objects</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>request</code> - The request</dd>
<dt><span class="strong">Returns:</span></dt><dd>A list of Source objects</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="newModule(javax.servlet.http.HttpServletRequest, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newModule</h4>
<pre>protected&nbsp;<a href="../../../../../../com/ibm/jaggr/service/module/IModule.html" title="interface in com.ibm.jaggr.service.module">IModule</a>&nbsp;newModule(javax.servlet.http.HttpServletRequest&nbsp;request,
                <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;mid)</pre>
</li>
</ul>
<a name="getLastModified(com.ibm.jaggr.service.IAggregator, com.ibm.jaggr.service.impl.layer.ModuleList)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastModified</h4>
<pre>protected&nbsp;long&nbsp;getLastModified(<a href="../../../../../../com/ibm/jaggr/service/IAggregator.html" title="interface in com.ibm.jaggr.service">IAggregator</a>&nbsp;aggregator,
                   com.ibm.jaggr.service.impl.layer.ModuleList&nbsp;modules)</pre>
<div class="block">Returns the newest last modified time of the files in the list</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>files</code> - The list of ModuleFile objects</dd>
<dt><span class="strong">Returns:</span></dt><dd>The newest last modified time of all the files in the list</dd></dl>
</li>
</ul>
<a name="getCacheKeyGenerators(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCacheKeyGenerators</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../com/ibm/jaggr/service/cachekeygenerator/ICacheKeyGenerator.html" title="interface in com.ibm.jaggr.service.cachekeygenerator">ICacheKeyGenerator</a>&gt;&nbsp;getCacheKeyGenerators(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../com/ibm/jaggr/service/impl/layer/ModuleBuildFuture.html" title="class in com.ibm.jaggr.service.impl.layer">ModuleBuildFuture</a>&gt;&nbsp;futures)
                                                  throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="cacheEntryEvicted(com.ibm.jaggr.service.impl.layer.CacheEntry)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cacheEntryEvicted</h4>
<pre>protected&nbsp;boolean&nbsp;cacheEntryEvicted(com.ibm.jaggr.service.impl.layer.CacheEntry&nbsp;cacheEntry)</pre>
<div class="block">Called by the layer cache manager when a layer build is evicted from the
 eviction map do to size limitations.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cacheEntry</code> - The cache entry that was evicted</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if this layer has no more builds and the layer should be
         removed from the layer cache</dd></dl>
</li>
</ul>
<a name="newLayerCache(com.ibm.jaggr.service.IAggregator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newLayerCache</h4>
<pre>public static&nbsp;<a href="../../../../../../com/ibm/jaggr/service/layer/ILayerCache.html" title="interface in com.ibm.jaggr.service.layer">ILayerCache</a>&nbsp;newLayerCache(<a href="../../../../../../com/ibm/jaggr/service/IAggregator.html" title="interface in com.ibm.jaggr.service">IAggregator</a>&nbsp;aggregator)</pre>
<div class="block">Static factory method for layer cache objects</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>aggregator</code> - the aggregator this layer cache belongs to</dd>
<dt><span class="strong">Returns:</span></dt><dd>a new layer cache</dd></dl>
</li>
</ul>
<a name="setResponseHeaders(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setResponseHeaders</h4>
<pre>protected&nbsp;void&nbsp;setResponseHeaders(javax.servlet.http.HttpServletRequest&nbsp;request,
                      javax.servlet.http.HttpServletResponse&nbsp;response,
                      int&nbsp;size)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LayerImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/ibm/jaggr/service/impl/layer/LayerCacheImpl.SerializationProxy.html" title="class in com.ibm.jaggr.service.impl.layer"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../com/ibm/jaggr/service/impl/layer/Messages.html" title="class in com.ibm.jaggr.service.impl.layer"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/ibm/jaggr/service/impl/layer/LayerImpl.html" target="_top">Frames</a></li>
<li><a href="LayerImpl.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2011-2014 <a href="http://www.ibm.com">IBM</a>. All Rights Reserved.</small></p>
</body>
</html>